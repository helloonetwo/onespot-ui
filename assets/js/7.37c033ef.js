(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1031:function(e,t,a){},1058:function(e,t,a){"use strict";a(1031)},1103:function(e,t,a){"use strict";a.r(t);a(32),a(90),a(103),a(52);var l={name:"formData",components:{TUploadFile:a(624).a},data:function(){return{uploadFile:{fmFileList:[],uploadObj:{},checkedList:[{check:!0,type:"001"}]},formInfo:{labelWidth:"500px",ref:null,formData:{id:"",account:"",password:"",name:"",type:"",sex:"",hobby:[],phone:"",createDate:"",startDate:"",endDate:"",wechat:"",qq:"",accountType:"",email:"",desc:"",status:""},fieldList:[{label:"账号",value:"account",type:"input",event:"account"},{label:"密码",value:"password",type:"password"},{label:"昵称",value:"name",type:"input"},{label:"性别",value:"sex",type:"select",list:"sexList",arrLabel:"key",arrKey:"value"},{label:"平台用户",value:"accountType",type:"select-obj",list:"accountTypeList"},{label:"状态",value:"status",type:"select",list:"statusList",arrLabel:"key",arrKey:"value"},{label:"爱好",value:"hobby",type:"checkbox",list:"hobbyList",event:"checkbox"},{label:"头像",value:"avatar",type:"slot",className:"t-form-block"},{label:"手机号码",value:"phone",type:"input"},{label:"创建时间",value:"createDate",type:"date",dateType:"year",format:"yyyy"},{label:"时间范围",startDate:"startDate",endDate:"endDate",type:"t-date",dispaysType:"two",event:"date"},{label:"微信",value:"wechat",type:"input"},{label:"QQ",value:"qq",type:"input"},{label:"邮箱",value:"email",type:"input",rules:[{required:!0,message:"邮箱不能为空！"},{validator:function(e,t,a){/^([a-z0-9A-Z]+[-|._]?)+[a-z0-9A-Z]@([a-z0-9A-Z]+(-[a-z0-9A-Z]+)?\.)+[a-zA-Z]{2,}$/.test(t)?a():a(new Error("请输入正确格式的邮箱"))}}]},{label:"描述",value:"desc",type:"textarea",className:"t-form-block"}],rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],name:[{required:!0,message:"请输入昵称",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号码",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],hobby:[{type:"array",required:!0,message:"请至少选择一个爱好",trigger:"change"}]},operatorList:[{label:"提交",type:"danger",fun:this.submitForm},{label:"重置",type:"primary",fun:this.resetForm}]},listTypeInfo:{hobbyList:[{label:"吉他",value:"0"},{label:"看书",value:"1"},{label:"美剧",value:"2"},{label:"旅游",value:"3"},{label:"音乐",value:"4"}],sexList:[{key:"女",value:1},{key:"男",value:0}],accountTypeList:{0:"手机用户",1:"论坛用户",2:"平台用户"},statusList:[{key:"启用",value:1},{key:"停用",value:0}]}}},methods:{pushUploadItem:function(e,t){console.log(e,t);var a=e.res;this.uploadFile.uploadObj[t]=a,this.uploadFile.uploadObj[t]&&0!==this.uploadFile.uploadObj[t].length||delete this.uploadFile.uploadObj[t];for(var l=[],o=0,s=Object.keys(this.uploadFile.uploadObj);o<s.length;o++){var r=s[o],u={attachmentNo:this.uploadFile.uploadObj[r],attachmentType:r};l.push(u)}this.uploadFile.fmFileList=l},handleEvent:function(e,t,a){switch(e){case"date":console.log(1111111,t,e,a),this.formInfo.formData[a]=t;break;case"checkbox":console.log(2222,t,e,a)}},submitForm:function(){var e=this;this.formInfo.ref.validate((function(t){console.log(88,t),console.log(77,e.formInfo.formData)}))},resetForm:function(){Object.assign(this.$data.formInfo.formData,this.$options.data().formInfo.formData)}}},o=(a(1058),a(8)),s=Object(o.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-data"},[t("t-form",{attrs:{"ref-obj":e.formInfo.ref,"form-data":e.formInfo.formData,"field-list":e.formInfo.fieldList,rules:e.formInfo.rules,"operator-list":e.formInfo.operatorList,"list-type-info":e.listTypeInfo},on:{"update:refObj":function(t){return e.$set(e.formInfo,"ref",t)},"update:ref-obj":function(t){return e.$set(e.formInfo,"ref",t)},handleEvent:e.handleEvent},scopedSlots:e._u([{key:"form-avatar",fn:function(){return e._l(e.uploadFile.checkedList,(function(a){return t("div",{key:a.type,staticClass:"slot-avatar"},[t("t-upload-file",{attrs:{attachmentType:a.type},on:{uploadSuccess:e.pushUploadItem,deleteSuccess:e.pushUploadItem}})],1)}))},proxy:!0}])})],1)}),[],!1,null,null,null);t.default=s.exports}}]);